<!DOCTYPE html>
<html>
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="https://kit.fontawesome.com/090c9b04a5.js" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css"integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous">
    <link rel="stylesheet" href="page.css">
  </head>
  <body onload="loading()"> 
      <div id = "head"> 
          <h1>THÔNG TIN TÂN SINH VIÊN - KHOA CNTT - STU </h1> 
          <div id="Print" style="float: right">
              <div>PHÁT TRIỂN BỞI: Truyền Thông IT - NT.HT</div>
              <div>
                  <button id="phieuthuR" onclick="phieuthuR()">IN BẢNG THỂ HIỆN ĐIỆN TỬ </button>                  
              </div>
          </div>
          <div class = "form-row">
          <label> MÃ SỐ SINH VIÊN  :</label> <input type= "text" id="mpt"><button id="btn">TRA CỨU </button>
          </div>
      </div>
      <div><hr></div>
      <div  ></div>
      <div class="view-out" id="TB_PT">
        <div class="header__top w3-animate-top">
          <h1>Danh sách BCH Đoàn-Hội Khoa Công Nghệ Thông Tin</h1>
        </div>
    <div class="Item w3-animate-top">
      <div class="Item__list live1">
        <div id="box-1">
        </div>
      </div>
      <div class="Item__list live2">
        <div id="box-2">
        </div>
      </div>
      <div class="Item__list live3">
        <div id="box-3">
        </div>
      </div>
    </div>
  </div>
    <div id="rip">
    <link href='https://unpkg.com/boxicons@2.0.9/css/boxicons.min.css' rel='stylesheet'></div>
    <div id = "float">
         <div id="elementH"></div>
    </div>
  </body>

<script>
        document.getElementById("btn").addEventListener("click",doStuff);
        document.getElementById("printPT").addEventListener("click",printPT);
        document.getElementById("phieuthuR").addEventListener("click",phieuthuR);
        
        function doStuff()
        { 
          var kt = document.getElementById("mpt").value;
          if(kt != "")
          {
              var data={};
              data.mpt = document.getElementById("mpt").value;
              google.script.run.withSuccessHandler(updateViewPT).getCode(data.mpt);
              document.getElementById("mpt").value= "";
              document.getElementById('TB_PT').innerHTML = '<div><img src="https://firebasestorage.googleapis.com/v0/b/blnt-45dd0.appspot.com/o/image%2Floading3.gif?alt=media&token=7157fefb-1a88-4d86-bfc3-e6534a4755c0" width="100px" height="100px">'
              +'ĐANG XỬ LÝ DỮ LIỆU...</div>';
          }
          else
          {
              //document.getElementById('Print').innerHTML ='';
              document.getElementById('TB_PT').innerHTML ='<div><img src="https://thumbs.gfycat.com/UniqueSizzlingFinwhale-small.gif" width="50px" height="50px"> VUI LÒNG CUNG CẤP MÃ SỐ SINH VIÊN</div>';
          }
        };
          function updateViewPT(dbPT)
          {document.getElementById('TB_PT').innerHTML = dbPT;};
          
         function phieuthuR()
          { 
              var newWindow = window.open(); 
              newWindow.document.write(document.getElementById("TB_PT").innerHTML+document.getElementById("rip").innerHTML); 
              // newWindow.print(); 
          };

          function loading(){
            const char=[1,2,3,4,5,6,7,8,9,10,11]
               
            const a =char[Math.floor(Math.random() * char.length)];
            
            char.splice(char.indexOf(a), 1);
            const b =char[Math.floor(Math.random() * char.length)];

            char.splice(char.indexOf(b), 1);
            const c =char[Math.floor(Math.random() * char.length)];

            
            document.getElementById("box-1").innerHTML = '<img src="'+a+'.PNG" width="250px" alt="Lỗi"> ';
            document.getElementById("box-2").innerHTML = '<img src="'+b+'.PNG" width="250px" alt="Lỗi"> ';
            document.getElementById("box-3").innerHTML = '<img src="'+c+'.PNG" width="250px" alt="Lỗi"> ';;
          }
</script>
</html>